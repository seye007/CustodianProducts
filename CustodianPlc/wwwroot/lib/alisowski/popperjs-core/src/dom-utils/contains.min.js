/**
 * Failed to minify the file using Terser v5.10.0. Serving the original version.
 * Original file: /npm/@alisowski/popperjs-core@2.4.3/src/dom-utils/contains.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
// @flow
export default function contains(parent: Element, child: Element) {
  // $FlowFixMe: hasOwnProperty doesn't seem to work in tests
  const isShadow = Boolean(child.getRootNode && child.getRootNode().host);

  // First, attempt with faster native method
  if (parent.contains(child)) {
    return true;
  }
  // then fallback to custom implementation with Shadow DOM support
  else if (isShadow) {
    let next = child;
    do {
      if (next && parent.isSameNode(next)) {
        return true;
      }
      // $FlowFixMe: need a better way to handle this...
      next = next.parentNode || next.host;
    } while (next);
  }

  // Give up, the result is false
  return false;
}
